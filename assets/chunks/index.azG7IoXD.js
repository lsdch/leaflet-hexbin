import{c as ht,i as J,a as Q,b as ft,d as W,l as L,e as dt,H as tt,s as q}from"./HexbinDemo10k.D7is3QPG.js";import"./framework.BfDXmAJF.js";function j(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function pt(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function st(n){let t,r,i;n.length!==2?(t=j,r=(u,l)=>j(n(u),l),i=(u,l)=>n(u)-l):(t=n===j||n===pt?n:gt,r=n,i=n);function o(u,l,e=0,g=u.length){if(e<g){if(t(l,l)!==0)return g;do{const c=e+g>>>1;r(u[c],l)<0?e=c+1:g=c}while(e<g)}return e}function s(u,l,e=0,g=u.length){if(e<g){if(t(l,l)!==0)return g;do{const c=e+g>>>1;r(u[c],l)<=0?e=c+1:g=c}while(e<g)}return e}function a(u,l,e=0,g=u.length){const c=o(u,l,e,g-1);return c>e&&i(u[c-1],l)>-i(u[c],l)?c-1:c}return{left:o,center:a,right:s}}function gt(){return 0}function mt(n){return n===null?NaN:+n}const yt=st(j),_t=yt.right;st(mt).center;function xt(n,t){let r,i;if(t===void 0)for(const o of n)o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)));else{let o=-1;for(let s of n)(s=t(s,++o,n))!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)))}return[r,i]}const Mt=Math.sqrt(50),wt=Math.sqrt(10),vt=Math.sqrt(2);function G(n,t,r){const i=(t-n)/Math.max(0,r),o=Math.floor(Math.log10(i)),s=i/Math.pow(10,o),a=s>=Mt?10:s>=wt?5:s>=vt?2:1;let u,l,e;return o<0?(e=Math.pow(10,-o)/a,u=Math.round(n*e),l=Math.round(t*e),u/e<n&&++u,l/e>t&&--l,e=-e):(e=Math.pow(10,o)*a,u=Math.round(n/e),l=Math.round(t/e),u*e<n&&++u,l*e>t&&--l),l<u&&.5<=r&&r<2?G(n,t,r*2):[u,l,e]}function Lt(n,t,r){if(t=+t,n=+n,r=+r,!(r>0))return[];if(n===t)return[n];const i=t<n,[o,s,a]=i?G(t,n,r):G(n,t,r);if(!(s>=o))return[];const u=s-o+1,l=new Array(u);if(i)if(a<0)for(let e=0;e<u;++e)l[e]=(s-e)/-a;else for(let e=0;e<u;++e)l[e]=(s-e)*a;else if(a<0)for(let e=0;e<u;++e)l[e]=(o+e)/-a;else for(let e=0;e<u;++e)l[e]=(o+e)*a;return l}function X(n,t,r){return t=+t,n=+n,r=+r,G(n,t,r)[2]}function bt(n,t,r){t=+t,n=+n,r=+r;const i=t<n,o=i?X(t,n,r):X(n,t,r);return(i?-1:1)*(o<0?1/-o:o)}function St(n,t){t||(t=[]);var r=n?Math.min(t.length,n.length):0,i=t.slice(),o;return function(s){for(o=0;o<r;++o)i[o]=n[o]*(1-s)+t[o]*s;return i}}function kt(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Nt(n,t){var r=t?t.length:0,i=n?Math.min(r,n.length):0,o=new Array(i),s=new Array(r),a;for(a=0;a<i;++a)o[a]=U(n[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(u){for(a=0;a<i;++a)s[a]=o[a](u);return s}}function Et(n,t){var r=new Date;return n=+n,t=+t,function(i){return r.setTime(n*(1-i)+t*i),r}}function At(n,t){var r={},i={},o;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in n?r[o]=U(n[o],t[o]):i[o]=t[o];return function(s){for(o in r)i[o]=r[o](s);return i}}function U(n,t){var r=typeof t,i;return t==null||r==="boolean"?ht(t):(r==="number"?J:r==="string"?(i=W(t))?(t=i,Q):ft:t instanceof W?Q:t instanceof Date?Et:kt(t)?St:Array.isArray(t)?Nt:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?At:J)(n,t)}function Bt(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}function Rt(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function I(n,t){if((r=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var r,i=n.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+n.slice(r+1)]}function B(n){return n=I(Math.abs(n)),n?n[1]:NaN}function Pt(n,t){return function(r,i){for(var o=r.length,s=[],a=0,u=n[0],l=0;o>0&&u>0&&(l+u+1>i&&(u=Math.max(1,i-l)),s.push(r.substring(o-=u,o+u)),!((l+=u+1)>i));)u=n[a=(a+1)%n.length];return s.reverse().join(t)}}function Tt(n){return function(t){return t.replace(/[0-9]/g,function(r){return n[+r]})}}var zt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function V(n){if(!(t=zt.exec(n)))throw new Error("invalid format: "+n);var t;return new Z({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}V.prototype=Z.prototype;function Z(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Z.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ct(n){t:for(var t=n.length,r=1,i=-1,o;r<t;++r)switch(n[r]){case".":i=o=r;break;case"0":i===0&&(i=r),o=r;break;default:if(!+n[r])break t;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(o+1):n}var ut;function Ot(n,t){var r=I(n,t);if(!r)return n+"";var i=r[0],o=r[1],s=o-(ut=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=i.length;return s===a?i:s>a?i+new Array(s-a+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+I(n,Math.max(0,t+s-1))[0]}function nt(n,t){var r=I(n,t);if(!r)return n+"";var i=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const it={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Rt,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>nt(n*100,t),r:nt,s:Ot,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function rt(n){return n}var ot=Array.prototype.map,et=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function $t(n){var t=n.grouping===void 0||n.thousands===void 0?rt:Pt(ot.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",o=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?rt:Tt(ot.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",u=n.minus===void 0?"−":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function e(c){c=V(c);var h=c.fill,x=c.align,m=c.sign,M=c.symbol,f=c.zero,d=c.width,y=c.comma,_=c.precision,S=c.trim,w=c.type;w==="n"?(y=!0,w="g"):it[w]||(_===void 0&&(_=12),S=!0,w="g"),(f||h==="0"&&x==="=")&&(f=!0,h="0",x="=");var T=M==="$"?r:M==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",z=M==="$"?i:/[%p]/.test(w)?a:"",R=it[w],C=/[defgprs%]/.test(w);_=_===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(p){var v=T,b=z,N,K,O;if(w==="c")b=R(p)+b,p="";else{p=+p;var $=p<0||1/p<0;if(p=isNaN(p)?l:R(Math.abs(p),_),S&&(p=Ct(p)),$&&+p==0&&m!=="+"&&($=!1),v=($?m==="("?m:u:m==="-"||m==="("?"":m)+v,b=(w==="s"?et[8+ut/3]:"")+b+($&&m==="("?")":""),C){for(N=-1,K=p.length;++N<K;)if(O=p.charCodeAt(N),48>O||O>57){b=(O===46?o+p.slice(N+1):p.slice(N))+b,p=p.slice(0,N);break}}}y&&!f&&(p=t(p,1/0));var H=v.length+p.length+b.length,k=H<d?new Array(d-H+1).join(h):"";switch(y&&f&&(p=t(k+p,k.length?d-b.length:1/0),k=""),x){case"<":p=v+p+b+k;break;case"=":p=v+k+p+b;break;case"^":p=k.slice(0,H=k.length>>1)+v+p+b+k.slice(H);break;default:p=k+v+p+b;break}return s(p)}return P.toString=function(){return c+""},P}function g(c,h){var x=e((c=V(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(B(h)/3)))*3,M=Math.pow(10,-m),f=et[8+m/3];return function(d){return x(M*d)+f}}return{format:e,formatPrefix:g}}var D,ct,lt;Ht({thousands:",",grouping:[3],currency:["$",""]});function Ht(n){return D=$t(n),ct=D.format,lt=D.formatPrefix,D}function Dt(n){return Math.max(0,-B(Math.abs(n)))}function jt(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(B(t)/3)))*3-B(Math.abs(n)))}function Ft(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,B(t)-B(n))+1}function Gt(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function It(n){return function(){return n}}function Vt(n){return+n}var at=[0,1];function A(n){return n}function Y(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:It(isNaN(t)?NaN:.5)}function qt(n,t){var r;return n>t&&(r=n,n=t,t=r),function(i){return Math.max(n,Math.min(t,i))}}function Jt(n,t,r){var i=n[0],o=n[1],s=t[0],a=t[1];return o<i?(i=Y(o,i),s=r(a,s)):(i=Y(i,o),s=r(s,a)),function(u){return s(i(u))}}function Xt(n,t,r){var i=Math.min(n.length,t.length)-1,o=new Array(i),s=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<i;)o[a]=Y(n[a],n[a+1]),s[a]=r(t[a],t[a+1]);return function(u){var l=_t(n,u,1,i)-1;return s[l](o[l](u))}}function Yt(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Ut(){var n=at,t=at,r=U,i,o,s,a=A,u,l,e;function g(){var h=Math.min(n.length,t.length);return a!==A&&(a=qt(n[0],n[h-1])),u=h>2?Xt:Jt,l=e=null,c}function c(h){return h==null||isNaN(h=+h)?s:(l||(l=u(n.map(i),t,r)))(i(a(h)))}return c.invert=function(h){return a(o((e||(e=u(t,n.map(i),J)))(h)))},c.domain=function(h){return arguments.length?(n=Array.from(h,Vt),g()):n.slice()},c.range=function(h){return arguments.length?(t=Array.from(h),g()):t.slice()},c.rangeRound=function(h){return t=Array.from(h),r=Bt,g()},c.clamp=function(h){return arguments.length?(a=h?!0:A,g()):a!==A},c.interpolate=function(h){return arguments.length?(r=h,g()):r},c.unknown=function(h){return arguments.length?(s=h,c):s},function(h,x){return i=h,o=x,g()}}function Zt(){return Ut()(A,A)}function Kt(n,t,r,i){var o=bt(n,t,r),s;switch(i=V(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(t));return i.precision==null&&!isNaN(s=jt(o,a))&&(i.precision=s),lt(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=Ft(o,Math.max(Math.abs(n),Math.abs(t))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=Dt(o))&&(i.precision=s-(i.type==="%")*2);break}}return ct(i)}function Qt(n){var t=n.domain;return n.ticks=function(r){var i=t();return Lt(i[0],i[i.length-1],r??10)},n.tickFormat=function(r,i){var o=t();return Kt(o[0],o[o.length-1],r??10,i)},n.nice=function(r){r==null&&(r=10);var i=t(),o=0,s=i.length-1,a=i[o],u=i[s],l,e,g=10;for(u<a&&(e=a,a=u,u=e,e=o,o=s,s=e);g-- >0;){if(e=X(a,u,r),e===l)return i[o]=a,i[s]=u,t(i);if(e>0)a=Math.floor(a/e)*e,u=Math.ceil(u/e)*e;else if(e<0)a=Math.ceil(a*e)/e,u=Math.floor(u*e)/e;else break;l=e}return n},n}function F(){var n=Zt();return n.copy=function(){return Yt(n,F())},Gt.apply(n,arguments),Qt(n)}var E=Math.PI/3,Wt=[0,E,2*E,3*E,4*E,5*E];function tn(n){return n[0]}function nn(n){return n[1]}function rn(){var n=0,t=0,r=1,i=1,o=tn,s=nn,a,u,l;function e(c){var h={},x=[],m,M=c.length;for(m=0;m<M;++m)if(!(isNaN(d=+o.call(null,f=c[m],m,c))||isNaN(y=+s.call(null,f,m,c)))){var f,d,y,_=Math.round(y=y/l),S=Math.round(d=d/u-(_&1)/2),w=y-_;if(Math.abs(w)*3>1){var T=d-S,z=S+(d<S?-1:1)/2,R=_+(y<_?-1:1),C=d-z,P=y-R;T*T+w*w>C*C+P*P&&(S=z+(_&1?1:-1)/2,_=R)}var p=S+"-"+_,v=h[p];v?v.push(f):(x.push(v=h[p]=[f]),v.x=(S+(_&1)/2)*u,v.y=_*l)}return x}function g(c){var h=0,x=0;return Wt.map(function(m){var M=Math.sin(m)*c,f=-Math.cos(m)*c,d=M-h,y=f-x;return h=M,x=f,[d,y]})}return e.hexagon=function(c){return"m"+g(c==null?a:+c).join("l")+"z"},e.centers=function(){for(var c=[],h=Math.round(t/l),x=Math.round(n/u),m=h*l;m<i+a;m+=l,++h)for(var M=x*u+(h&1)*u/2;M<r+u/2;M+=u)c.push([M,m]);return c},e.mesh=function(){var c=g(a).slice(0,4).join("l");return e.centers().map(function(h){return"M"+h+"m"+c}).join("")},e.x=function(c){return arguments.length?(o=c,e):o},e.y=function(c){return arguments.length?(s=c,e):s},e.radius=function(c){return arguments.length?(a=+c,u=a*2*Math.sin(E),l=a*1.5,e):a},e.size=function(c){return arguments.length?(n=t=0,r=+c[0],i=+c[1],e):[r-n,i-t]},e.extent=function(c){return arguments.length?(n=+c[0][0],t=+c[0][1],r=+c[1][0],i=+c[1][1],e):[[n,t],[r,i]]},e.radius(1)}function on(n){return n instanceof L.LatLng||typeof n=="object"&&"lat"in n&&"lng"in n||Array.isArray(n)&&n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number"}const en=(n,t)=>{let r;return function(...i){clearTimeout(r),r=setTimeout(()=>{n(...i)},t)}};class an extends L.SVG{constructor(t){super(),this.options={radius:12,opacity:.6,duration:200,colorScaleExtent:[1,void 0],radiusScaleExtent:[1,void 0],opacityScaleExtent:[1,void 0],colorDomain:null,radiusDomain:null,colorRange:["#f7fbff","#08306b"],radiusRange:null,pointerEvents:"all",noRedraw:!1,colorBinding:r=>r.length,radiusBinding:r=>r.length,opacityBinding:r=>r.length,fill:r=>{const i=this.options.colorBinding(r);return i!=null?this._scale.color(i):"none"},...L.Renderer.prototype.options,...L.Layer.prototype.options},this._scale={color:F(),radius:F(),opacity:F()},this._dispatch=dt("mouseover","mouseout","click","draw"),this._hoverHandler=tt.none(),this._hexLayout=rn().radius(this.options.radius).x(({point:{x:r}})=>r).y(({point:{y:r}})=>r),this._data=Array(),this._tooltipOptions={},this.options={...this.options,...t},this._scale.color.range(this.options.colorRange).clamp(!0),this._scale.radius.range(this.options.radiusRange??[this.options.radius,this.options.radius]).clamp(!0),this._scale.opacity.range(typeof this.options.opacity=="number"?[this.options.opacity,this.options.opacity]:this.options.opacity).clamp(!0)}_accessor(t){return t}_initContainer(){super._initContainer(),this._d3Container=q(this._container).select("g")}onAdd(t){var r;return super.onAdd(t),this._map=t,(r=this._tooltip)==null||r.setLatLng([0,0]).addTo(t),t.on("moveend",en(()=>this.redraw(),100)),this.redraw(),this}onRemove(t){return this._destroyContainer(),t.off("moveend",this.redraw,this),this}_destroyContainer(){q(this._container).remove()}redraw(){const t=this;if(!t._map)return;const r=t._data.map(a=>{const u=t._accessor(a),l=t._map.latLngToLayerPoint(u);return{coord:u,point:l,data:a}}),i=this._d3Container.selectAll("g.hexbin").data([this._map.getZoom()],a=>a),s=i.enter().append("g").attr("class",function(a){return"hexbin zoom-"+a}).merge(i);i.exit().remove(),this._createHexagons(s,r)}_linearlySpace(t,r,i){const o=(r-t)/Math.max(i-1,1);return Array.from({length:i},(s,a)=>t+a*o)}_createHexagons(t,r){const i=this,o=i._map.getSize(),s=i._map.getBounds().pad(i.options.radius*2/Math.max(o.x,o.y)),a=i._hexLayout.radius(this.options.radius)(r).filter(({x:f,y:d})=>s.contains(i._map.layerPointToLatLng(L.point(f,d)))),u=i._getExtent(a,i.options.colorBinding,i.options.colorScaleExtent),l=i._getExtent(a,i.options.radiusBinding,i.options.radiusScaleExtent),e=i._getExtent(a,i.options.opacityBinding,i.options.opacityScaleExtent),g=this.options.colorDomain??i._linearlySpace(u[0],u[1],i._scale.color.range().length),c=this.options.radiusDomain||l;i._scale.color.domain(g),i._scale.radius.domain(c),i._scale.opacity.domain(e);const h=t.selectAll("g.hexbin-container").data(a,({x:f,y:d})=>`${f}:${d}`);h.select("path.hexbin-hexagon").transition().duration(i.options.duration).attr("fill",i.options.fill.bind(i)).attr("fill-opacity",f=>i._scale.opacity(i.options.opacityBinding.call(i,f))).attr("stroke-opacity",f=>i._scale.opacity(i.options.opacityBinding.call(i,f))).attr("d",f=>i._hexLayout.hexagon(i._scale.radius(i.options.radiusBinding.call(i,f))));const x=h.enter().append("g").attr("class","hexbin-container").style("pointer-events",i.options.pointerEvents);x.on("mouseover",function(f,d){q(this).raise()});const m=x.append("path").attr("class","hexbin-hexagon").attr("transform",({x:f,y:d})=>`translate(${f},${d})`).attr("d",()=>i._hexLayout.hexagon(i._scale.radius.range()[0])).attr("fill",i.options.fill.bind(i)).attr("fill-opacity",.01).attr("stroke-opacity",.01).style("pointer-events","all");m.transition().duration(i.options.duration).attr("fill-opacity",f=>i._scale.opacity(i.options.opacityBinding.call(i,f))).attr("stroke-opacity",f=>i._scale.opacity(i.options.opacityBinding.call(i,f))).attr("d",f=>i._hexLayout.hexagon(i._scale.radius(i.options.radiusBinding.call(i,f)))).style("pointer-events","all"),x.append("path").attr("class","hexbin-grid").attr("transform",({x:f,y:d})=>`translate(${f},${d})`).attr("d",()=>i._hexLayout.hexagon(i.options.radius)).attr("fill","none").attr("stroke","none"),m.on("mouseover",function(f,d){var y,_;(y=i._tooltipOptions)!=null&&y.content&&((_=i._tooltip)==null||_.setContent(typeof i._tooltipOptions.content=="function"?i._tooltipOptions.content(d):i._tooltipOptions.content).setLatLng(i._map.layerPointToLatLng(L.point(d.x,d.y))).openOn(i._map)),i._hoverHandler.mouseover(this,i,f,d),i._dispatch.call("mouseover",this,d,i,f),this.classList.add("hover")}).on("mouseout",function(f,d){var y;(y=i._tooltip)==null||y.close(),i._hoverHandler.mouseout(this,i,f,d),i._dispatch.call("mouseout",this,d,i,f),this.classList.remove("hover")}).on("click",function(f,d){const y=i._map.layerPointToLatLng(L.point(d.x,d.y));i._dispatch.call("click",this,d,y,i,f),f.stopPropagation()});const M=h.exit();M.select("path.hexbin-hexagon").transition().duration(i.options.duration).attr("fill-opacity",0).attr("stroke-opacity",0).attr("d",f=>i._hexLayout.hexagon(0)),M.transition().duration(i.options.duration).remove(),i._dispatch.call("draw",i,r,i,{colorExtent:u})}_getExtent(t,r,i){let o=xt(t,r.bind(this));return(o[0]===void 0||o[1]===void 0)&&(o=[0,0]),i[0]!=null&&(o[0]=i[0]),i[1]!=null&&(o[1]=i[1]),o}radius(t){return t===void 0?this.options.radius:(this.options.radius=t,this._hexLayout.radius(t),this.options.radiusRange==null&&this._scale.radius.range([this.options.radius,this.options.radius]).clamp(!0),this)}opacity(t){return t===void 0?this.options.opacity:(this.options.opacity=t,this._scale.opacity.range(typeof t=="number"?[t,t]:t).clamp(!0),this)}duration(t){return t===void 0?this.options.duration:(this.options.duration=t,this)}colorScaleExtent(t){return t===void 0?this.options.colorScaleExtent:(this.options.colorScaleExtent=t,this)}radiusScaleExtent(t){return t===void 0?this.options.radiusScaleExtent:(this.options.radiusScaleExtent=t,this)}opacityScaleExtent(t){return t===void 0?this.options.opacityScaleExtent:(this.options.opacityScaleExtent=t,this)}colorRange(t){return t===void 0?this.options.colorRange:(this.options.colorRange=t,this._scale.color.range(t),this)}radiusRange(t){return t===void 0?this.options.radiusRange:(this.options.radiusRange=t,this._scale.radius.range(this.options.radiusRange??[this.options.radius,this.options.radius]).clamp(!0),this)}colorScale(t){return t===void 0?this._scale.color:(this._scale.color=t,this)}radiusScale(t){return t===void 0?this._scale.radius:(this._scale.radius=t,this)}colorValue(t){return t===void 0?this.options.colorBinding:(this.options.colorBinding=t,this)}radiusValue(t){return t===void 0?this.options.radiusBinding:(this.options.radiusBinding=t,this)}fill(t){return t===void 0?this.options.fill:(this.options.fill=t,this)}data(t,r){return t===void 0?this._data:(!on(t[0])&&!r&&console.error("Leaflet hexbin: data does not appear to be an array of L.LatLngExpression. You must provide an accessor function to convert the data to L.LatLngExpression"),this._data=t??[],this._accessor=r??(i=>i),this.options.noRedraw||this.redraw(),this)}accessor(){return this._accessor}dispatch(){return this._dispatch}hoverHandler(t){return t===void 0?this._hoverHandler:(this._hoverHandler=t??tt.none(),this.options.noRedraw||this.redraw(),this)}colorBinding(t){return t===void 0?this.options.colorBinding:(this.options.colorBinding=t,this.options.noRedraw||this.redraw(),this)}radiusBinding(t){return t===void 0?this.options.radiusBinding:(this.options.radiusBinding=t,this.options.noRedraw||this.redraw(),this)}opacityBinding(t){return t===void 0?this.options.opacityBinding:(this.options.opacityBinding=t,this.options.noRedraw||this.redraw(),this)}fillColor(t){return t===void 0?this.options.fill:(this.options.fill=t,this.options.noRedraw||this.redraw(),this)}tooltip(t){return this._tooltipOptions=t,this._tooltip?this._tooltip.options=t.options??{}:this._tooltip=L.tooltip(t.options),this}getTooltip(){return this._tooltip}bindTooltip(t,r){return t instanceof L.Tooltip?(this._tooltip=t,this._map&&this._tooltip.setLatLng([0,0]).addTo(this._map)):this._tooltip=L.tooltip(r).setContent(t),this}unbindTooltip(){var t;return(t=this._tooltip)==null||t.remove(),this._tooltip=void 0,this}getLatLngs(){return this._data.map(t=>L.latLng(this._accessor(t)))}toGeoJSON(){return L.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:L.GeoJSON.latLngsToCoords(this.getLatLngs(),0)})}onDraw(t){this.dispatch().on("draw",t)}onMouseOver(t){this.dispatch().on("mouseover",t)}onMouseOut(t){this.dispatch().on("mouseout",t)}onClick(t){this.dispatch().on("click",t)}}function cn(n){return new an(n)}export{tt as HexbinHoverHandler,an as HexbinLayer,cn as hexbinLayer};
